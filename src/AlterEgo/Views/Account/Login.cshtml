@using System.Collections.Generic
@using Microsoft.AspNetCore.Http
@using Microsoft.AspNetCore.Http.Authentication
@model LoginViewModel
@inject SignInManager<ApplicationUser> SignInManager

@{
    ViewBag.Title = "Log in";
}

<div class="col-lg-offset-3 col-lg-6 md animated slideInDown">
    <div class="view-header">
        <div class="header-icon">
            <i class="pe page-header-icon pe-7s-unlock"></i>
        </div>
        <div class="header-title">
            <h3>Log in</h3>
            <small>
                In order to continue, please sign in.
            </small>
        </div>
    </div>

    <div class="panel panel-filled">
        <div class="panel-body">
            <h4>Sign in through Battle.net</h4>
            <p>The quickest way to sign in is through Battle.net. No sensitive information about your account is stored, but we do use your BattleTag as your user name on the site.</p>
            <form asp-controller="Account" asp-action="ExternalLogin" asp-route-returnurl="@ViewData["ReturnUrl"]" method="post" class="text-center">
                <div class="form-group">
                    <button type="submit" class="btn btn-lg btn-primary" name="provider" value="BattleNet" title="Log in using your Battle.Net account">Log in with Battle.net</button>
                </div>
            </form>
            <p>It's important to note that we are not able to make changes to your Battle.net account, or the characters on it, <strong>at all</strong>. On a similar note, we will never display all your characters to anyone but yourself.</p>
            <p>For more information on this topic, you can read about it on the <a href="https://dev.battle.net/docs/read/log_in_with_bnet">Battle.net Developer Portal</a>.</p>
            <hr />

            <h4>Sign in with a password</h4>
            <p>If you've signed in with a Battle.net account recently, and added a password to your account, you can log in with your email address and password.</p>
            <p>Please note: If it's been too long since you've signed in through Battle.net, you may be asked to link the two accounts again.</p>
            <form asp-controller="Account" asp-action="Login" asp-route-returnurl="@ViewData["ReturnUrl"]" method="post" role="form" autocomplete="off">
                <div class="form-group">
                    <label asp-for="UserName"></label>
                    <input asp-for="UserName" placeholder="Enter your BattleTag (e.g. Name#1234)" class="form-control" />
                    <span asp-validation-for="UserName" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Password"></label>
                    <input asp-for="Password" placeholder="Enter your password" class="form-control" />
                    <span asp-validation-for="Password" class="text-danger"></span>
                </div>
                <div class="text-center">
                    <button class="btn btn-default">Log in</button>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
}

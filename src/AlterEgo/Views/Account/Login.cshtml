@using System.Collections.Generic
@using Microsoft.AspNetCore.Http
@using Microsoft.AspNetCore.Http.Authentication
@model LoginViewModel
@inject SignInManager<ApplicationUser> SignInManager

@{
    ViewBag.Title = "Log in";
}

<div class="row">
    <div class="col-lg-offset-3 col-lg-6">
        <div class="view-header">
            <div class="header-icon">
                <i class="pe page-header-icon pe-7s-lock"></i>
            </div>
            <div class="header-title">
                <h3>@ViewBag.Title</h3>
                <small>
                    Sign in with your Battle.net account.
                </small>
            </div>
            <hr />
        </div>

        <br />
        <form asp-controller="Account" asp-action="ExternalLogin" asp-route-returnurl="@ViewData["ReturnUrl"]" method="post">
            <div class="form-group">
                <button type="submit" class="btn btn-lg btn-primary btn-block" name="provider" value="BattleNet" title="Log in using your BattleNet account">Log in with Battle.net</button>
            </div>
        </form>
        <br />
        
        <h4>How does this work?</h4>
        <p>By signing in with your Battle.net account, we are able to get your guild characters, set your guild rank, and get a username automatically.</p>
        <p>It's important to note that we are not able to make changes to your Battle.net account, or the characters on it, <strong>at all</strong>. On a similar note, we will never display all your characters to anyone but yourself.</p>
        <p>For more information on this topic, you can read about it on the <a href="https://dev.battle.net/docs/read/log_in_with_bnet">Battle.net Developer Portal</a>.</p>
    </div>
</div>

@section Scripts {
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
}
